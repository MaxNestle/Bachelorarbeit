

\chapter{Was ist ein Covert-Channel?}
\label{cha:Was ist ein Covert-Channel?} %Label des Kapitels

\section{Definition}
%TODO
Covert-Channels sind Netzwerk Kanäle, die nicht offen praktiziert, erklärt, engagiert, angesammelt oder gezeigt werden. \cite{goltz2003covert}

Hierbei kann ein Kanal eine beliebige Methode sein Informationen zischen zwei Geräten über ein Netzwerk auszutauschen.
Bei Covert-Channels wird sich die größtmöglich Mühe gegeben, diesen Informationskanal vor Dritten unbemerkt zu halten.\\
Bei steganografischen Covert-Channels werden Methoden aus der Steganografie verwendet um diesen Kanal zu verbergen.

In dieser Arbeit handelt es sich bei Covert-Channel immer um Kanäle, die mit einem steganografischem Verfahren verschlüsselt werden.





\section{Was zeichnend einen guten Covert-Channel aus?}


Bei den weit verbreiteten mathematischen Verschlüsselungen muss sich meistens keine sorgen gemachen werden, ob der Datenaustausch von Dritten entdeckt werden kann, da hier die Daten ohne richtigen Key nutzlos sind.\\
Bei den Covert-Chanels ist dies problematischer, da ein entdeckter Kanal in der Regel direkt interpretiert werden kann. Ein Covert-Channel lebt, wie der Name auch schon verrät, davon wie gut dieser versteckt ist.\\ 
Dabei besitzt die Steganografie einen großen Vorteil: Ist das Verfahren zum Verstecken der Daten nicht bekannt, so ist es nahezu unmöglich den Covert-Channel zu finden, da nicht klar ist wo und nach was gesucht werden muss (Security by Obscurity).\\
Ist hingegen klar, um welches Verfahren es sich handelt und besteht die Vermutung, dass eine Kommunikation über einen versteckten Kanal stattfindet so kommt man leicht an die Informationen.\\
Um einen Covert-Channel zu Bewerten müssen folgende Aspekte betrachtet werden:\\

Der erste ist die Fähigkeit, wie einfach sich ein Kanal verstecken lässt. Hier fließt die allgemeine Unauffälligkeit des Covert-Channels ein, aber auch die Eigenschaften des bereits herrschenden Netzwerkverkehrs, in den der Channel eingebettet werden soll.\\
Der zweite Aspekt ist die Unbekanntheit des Verfahrens, sodass nicht nach einem möglichen versteckten Kanal gesucht werden kann. Hier kann einen Methode zur individuellen Gestaltung des Channels eine Verbesserung bringen.\\
Natürlich muss auch die Datenübertragungsrate betrachtet. Diese ist meistens sehr gering aber hier gibt es auch große Unterschiede zwischen den einzelnen Verfahren. \\
Die Integrität der Daten müssen die Channels ebenfalls gewährleisten.

\section{Wozu sind Covert-Channels nicht geeignet?}

Hohe Datenübertragung


\chapter{Mögliche steganografische Covert-Channel}
\label{cha:Covert-Channel} %Label des Kapitels

\section{Klassische textbasierende Verfahren}

\section{Zeitabhängiger Covert-Chanel}



\section{Benutzung verschiedener Protokolle Reihenfolge}



\section{Benutzung verschiedener Ports}



\section{Benutzung von unbenutzten Bits in Protokoll-Headern}



\section{Verwendung der Paketgröße}





\section{Verstecken der Informationen in den Nutzdaten}

\subsection{Verwenung von Bilddateien}


\subsubsection{RGB Basierende Formate}

Bildformate die auf die RGB Formate basieren sind zum Beispiel BMP (Windows Bitmap) oder auch GIF (Graphics Interchange Format). Diese Formate geben die Pixelfarbe basierend auf dem \textbf{R}ot-, \textbf{G}rün- und \textbf{B}lauwert. In diesen Werten können Daten versteckt werden.\cite{katzenbeisser2000information} So können beispielsweise die letzten beiden Bits manipuliert werden. Diese Veränderung ist für das menschliche Auge nicht zu erkennen, da die letzten Bits kaum eine Auswirkung auf die Höhe der Zahl haben.\\
Bei einer Farbtiefe von 24 Bit beträgt die maximale Änderung der Farbwerte nur 3 Farbstufen von insgesamt 256 möglichen.

00000000 (0) 		-> 00000011 (3)\\
11111111 (255)		-> 11111100	(252)

Auf diese Weise lassen sich 6 Bit pro Pixel übertragen. In einem unkomprimierten HD Bild mit einer Auflösung von 1280x720 Pixeln (ca. 22 MByte) lassen sich 0,6912 Mbyte Daten übertragen.

In Abbildung \ref{fig:fig4} wird dieses System veranschaulicht:

\begin{figure}[ht]
	\centering
	\includegraphics*[height=10cm]{bilder/stgRGB.jpg}
	\caption{Codierung in den 2 letzten Bits \cite{Black2018Slash}}
	\label{fig4}
\end{figure}

\subsubsection{Bildformate mit Alpha Kanal}
Bildformate wie PNG (Portable Network Graphics) können zusätzlich zu den RGB Kanälen auch auch einen Alpha Kanal besitzen. Dies ist ein zusätzlicher Wert der die Transparenz des jeweiligen Pixel angibt.
Bei einem Wert von 0 ist der Pixel ,,unsichtbar'' und bei 255 ist der Pixel komplett sichtbar.
Hier könnte man die Daten wie oben in den letzten beiden Werten speichern.\\
Da die Transparenz keine direkte Auswirkung auf die Farbe der Pixel hat, kann man jedoch auch mehr Daten speichern.


\subsubsection{Verwendung von ,,Shamir's Secret Sharing'' Methode}

Die Shamir's Secret Sharing Methode ist ein mathematisches Verfahren, das es möglich macht, ein Geheimnis auf mehrere Instanzen aufzuteilen. Dabei sind das Geheimnis und die dabei einstehenden ,,Shares'' Integer-Werte.\\  Die einzelnen Instanzen können dabei keine Rückschlüsse auf das Geheimnis schließen. Allein wenn man den Großteil der ,,Shares'' besitzt kann man das Geheimnis rekonstruieren.\\

Verschlüsseln:\\
Verwendet wird ein Geheimnis d, eine Anzahl von n Instanzen und eine Schwelle k < n.

1. Es wird eine Primzahl p zufällig gewählt.

2. Es werden k-1 Werte $c_1,c_2....,c_{k-1}$ mit den Werten zwischen 0 und p-1 vergeben.

3. Für $x_1,x_2..,x_n$ jeweils eine eindeutige reale Zahl wählen.

4. Mit Hilfe einer Polynomgleichung mit dem Grad k-1 werden nun n Gleichungen und somit auch Werte berechnet. $i = 1,2,...,n$

\begin{center}
$F(x_i) = (d+c_1x_i+c_2x_i^2+...+c_{k-1}x_i^{k-1})mod(p)$
\end{center}

5. Nun können die n Shares erstellt werden. Diese sind wie folgt Aufgebaut $(x_i,F(x_i)) $


Das Geheimnis ist nun in einer Funktion ,,abgespeichert''. Die Shares sind Punkte, die auf dieser Funktion liegen. Damit die Funktion wieder rekonstruiert werden kann, müssen mindestens k der n Shares vorhanden.


Entschlüsseln:\\

Um die Nachrichten zu entschlüsseln müssen k Shares in die Formel oben eingesetzt werden.\\
Das hierdurch entstandene Gleichungssystem mit den Unbekannten $d$ und $c_1$ bis $c_{k-1}$, kann zum Beispiel mit dem Gaußsches Eliminationsverfahren oder durch die Lagrangesche Interpolationsformel gelöst werden.

Dieses Verfahren kann man dazu verwenden, um Nachrichten unauffällig in den alpha Kanal eines PNG Bildes zu integrieren.\\
Die zu übertragende Nachricht $M$ wird hierzu in Segmente von $t$ Bit, mit $t=3$ unterteilt. Bei der Umwandlung der Segmente in Dezimalzahlen entsteht so ein neues Array $M'=d_1,d_2...$ bei dem die Werte zwischen 0 und 7 liegen.

Im Gegensatz zu dem original Algorithmus greift man hier zusätzlich auf die Werte $c_1$, $c_2$ und $c_3$ zurück um hier Ebenfalls ein ,,Geheimnis'' einzubetten. Zusammen mit $d$ können nun $k$ Werte integriert werden.

So ergibt sich:

$d = m_1 , c_1 = m_2 , c_2 = m_3 ,  c_3 = m_4$


Folgende Werte werden definiert:

$p = 11$\\
$x_1=1,x_2=2,x_3=3,x_4=4$

x kann hier eine beliebige Zahl annehmen und so als eine Art Verschlüsselung dienen. Fraglich ist, ob es sich dann noch um reine Steganografie handelt.

Die Werte von $q_1$ bis $q_4$ erben sich dann durch Einsetzten in sie Polynomgleichung.

$q_1 = F(x_1 ) = (m_1 + m_2 x_1 + m_3 {x_1}^2 + m_4 {x_1}^3 ) mod(p)$\\
$q_2 = F(x_2 ) = (m_1 + m_2 x_2 + m_3 {x_2}^2 + m_4 {x_2}^3 ) mod(p)$\\
$q_3 = F(x_3 ) = (m_1 + m_2 x_3 + m_3 {x_3}^2 + m_4 {x_3}^3 ) mod(p)$\\
$q_4 = F(x_4 ) = (m_1 + m_2 x_4 + m_3 {x_4}^2 + m_4 {x_4}^3 ) mod(p)$\\

Die Werte $q_1$ bis $q_4$ können nun beispielsweise in den alpha Kanal eines PNG Bildes eingefügt werden.
Durch die modulo 

\chapter{Bewertung der Methoden}


\chapter{Welcher Kanal ist geeignet}

\chapter{Projekt Umsetzung}]



\chapter{Etische Aspekte}

